(this.webpackJsonpgp=this.webpackJsonpgp||[]).push([[0],{120:function(e,t,n){e.exports={date_icon:"ChooseDate_date_icon__2GNv4",date_field:"ChooseDate_date_field__2QM_f"}},125:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return _}));var a=n(22),r=n.n(a),i=n(38),s=n(24),c=n(35),o="USERS/SET_USERS",u=[],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n=[];for(var a in t.users)n.push(Object(s.a)({id:a},t.users[a]));return n;default:return e}},d=function(){return function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.getUsers().then((function(e){var n;t((n=e.val(),{type:o,users:n}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(e,t,n,a,s){return function(){var o=Object(i.a)(r.a.mark((function i(o){return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.b.editUserProfile(e,t,n,a,s).then((function(){return o(d())}));case 2:case"end":return r.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}()}},132:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m}));var a=n(22),r=n.n(a),i=n(38),s=n(24),c=n(35),o=n(17),u=n.n(o),l="USER_NOTES/SET_USER_NOTES",d="USER_NOTES/RESET_USER_NOTES",_=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n=[];for(var a in t.notes)n.push(Object(s.a)({},t.notes[a]));return n.sort((function(e,t){return e.time-t.time})),n.sort((function(e,t){return u()(e.date.split(".").reverse().join("-"))-u()(t.date.split(".").reverse().join("-"))})),n;case d:return[]}return e},j=function(){return{type:d}},m=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getNotes(e).then((function(e){return n((t=e.val(),{type:l,notes:t}));var t}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},14:function(e,t,n){e.exports={container:"Header_container__1VC87",items:"Header_items__2Dz-W",link:"Header_link__2wI74",item:"Header_item__3IlmB",item_focus:"Header_item_focus__7l5Yi",item_current:"Header_item_current__s-QA1",item_choose_day:"Header_item_choose_day__20yW-",right:"Header_right__XlGVu",item_login:"Header_item_login__2dGsg"}},213:function(e,t,n){},214:function(e,t,n){},29:function(e,t,n){e.exports={sign_up_container:"SignUp_sign_up_container__1a11E",title:"SignUp_title__2vuQZ",field:"SignUp_field__1eFq0",error:"SignUp_error__39M2d",submitError:"SignUp_submitError__2EGcZ",field_error:"SignUp_field_error__1v6hA",button:"SignUp_button__2FVPE",link:"SignUp_link__2UIUV",nav_box:"SignUp_nav_box__1ts8Y",flex_box:"SignUp_flex_box__SNflj",flex_field:"SignUp_flex_field__3lFld",preloader:"SignUp_preloader__2E0B4"}},330:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),s=n.n(i),c=(n(213),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,359)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))}),o=n(37),u=(n(214),n(24)),l=n(27),d=n(14),_=n.n(d),f=n(28),j=n.n(f),m=n(17),b=n.n(m),h=n(94),p=n(33),O=n(357),v=n(165),x=n(356),N=n(355),g=n(120),S=n.n(g),y=n.p+"static/media/calendar.1c75522b.svg",w=n(25),D=n(4),C=function(){var e=Object(a.useState)(b()()),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),c=s[0],u=s[1],l=Object(w.f)(),d=Object(v.a)({palette:{primary:N.a}});return Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:S.a.date_icon,onClick:function(){return u(!0)},children:Object(D.jsx)("img",{src:y,alt:"Calendar",title:"Choose date"})}),Object(D.jsx)("div",{className:S.a.date_field,children:Object(D.jsx)(x.a,{theme:d,children:Object(D.jsx)(p.a,{utils:h.a,children:Object(D.jsx)(O.a,{value:n,onChange:r,open:c,onClose:function(){return u(!1)},onAccept:function(e){return function(e){e&&l.push("/notepad/".concat(e.format("DD.MM.YYYY"))),u(!1)}(e)}})})})})]})},E=n(19),A=function(){return Object(D.jsx)(E.c,{className:j()([_.a.link,_.a.item]),activeClassName:_.a.item_current,exact:!0,to:"/",children:Object(D.jsx)("li",{children:"Calendar"})})},k=function(e){var t=e.showSelectedDates,n=e.setShowSelectedDates;return Object(D.jsx)(E.c,{className:j()([_.a.link,_.a.item,_.a.item_select_dates,t?_.a.item_focus:""]),onClick:function(){return n(!t)},to:"",activeClassName:_.a.item_current,isActive:function(e,t){return"notepad"===t.pathname.split("/")[1]},children:Object(D.jsx)("li",{children:"Notes"})})},I=function(e){return"admin"!==e.userRole?Object(D.jsx)(D.Fragment,{}):Object(D.jsx)(E.c,{className:j()([_.a.link,_.a.item]),activeClassName:_.a.item_current,exact:!0,to:"/admin",children:Object(D.jsx)("li",{children:"Admin"})})},U=function(e){var t=e.isAuth,n=e.setShowConfirmWindow;return t?Object(D.jsx)("li",{className:j()([_.a.link,_.a.item,_.a.item_login]),onClick:n,children:"Sign out"}):Object(D.jsx)(E.c,{className:j()([_.a.link,_.a.item,_.a.item_login]),exact:!0,to:"/login",activeClassName:_.a.item_current,isActive:function(e,t){return"/login"===t.pathname||"/signup"===t.pathname},children:Object(D.jsx)("li",{children:"Log In"})})},M=function(e){var t=e.setShowSelectedDates,n=e.showSelectedDates,a=e.isAuth,r=e.setShowConfirmWindow,i=e.userRole;return Object(D.jsx)("nav",{className:_.a.container,children:Object(D.jsxs)("ul",{className:_.a.items,children:[Object(D.jsx)(A,{}),Object(D.jsx)(k,{setShowSelectedDates:t,showSelectedDates:n}),Object(D.jsx)("li",{className:j()([_.a.item,_.a.item_choose_day]),children:Object(D.jsx)(C,{})}),Object(D.jsxs)("div",{className:_.a.right,children:[Object(D.jsx)(I,{userRole:i}),Object(D.jsx)(U,{isAuth:a,setShowConfirmWindow:r})]})]})})},T=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,userRole:e.auth.user.role}}),{})((function(e){return Object(D.jsx)(M,Object(u.a)({},e))})),R=n(67),L=n(42),F=n.n(L),P=n(22),W=n.n(P),Y=n(38),H=n(166),B=n(35),G="NOTES/SET_NOTES",Q="NOTES/ADD_NOTE",q="NOTES/CHANGE_NOTE",V="NOTES/REMOVE_NOTE",z="NOTES/CLEAR_NOTES_STATE",J=[],Z=function(e){return{type:G,notes:e}},X=function(e,t,n,a,r){return{type:Q,id:e,date:t,hour:n,value:a,userId:r}},K=function(e,t){return{type:q,id:e,value:t}},$=function(e){return{type:V,id:e}},ee=function(){return function(e){return e({type:z})}},te=n(161),ne=n.n(te),ae=function(e){var t=e.hour,n=e.addNote,a=e.title,r=e.value,i=e.changeField;return Object(D.jsxs)("div",{children:[a&&Object(D.jsx)("div",{className:F.a.title__notepad_row,children:a}),Object(D.jsxs)("div",{className:F.a.notepad_row,children:[Object(D.jsx)("span",{className:F.a.time,children:t}),Object(D.jsx)(ne.a,{value:r,className:F.a.field,onChange:i,onBlur:n})]})]})},re=function(e,t,n){var a,r={value:"",id:""},i=Object(R.a)(e.notes);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.date===t[0]&&s.time===n&&s.value){r.value=s.value,r.id=s.id;break}}}catch(c){i.e(c)}finally{i.f()}return r},ie=Object(l.b)((function(e,t){var n=t.date,a=t.hour;return{noteData:re(e,n,a)}}),{addNewNote:function(e,t,n){return function(){var a=Object(Y.a)(W.a.mark((function a(r,i){var s;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=i().auth.user.id,a.next=3,B.a.addNote(s,{date:e,time:t,value:n,userId:s}).then((function(a){return r(X(a.key,e,t,n,s))}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},editNote:function(e,t,n,a){return function(){var r=Object(Y.a)(W.a.mark((function r(i,s){var c;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=s().auth.user.id,r.next=3,B.a.editNote(c,e,t,n,a).then((function(){return i(K(e,a))}));case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},removeNote:function(e){return function(){var t=Object(Y.a)(W.a.mark((function t(n,a){var r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.user.id,t.next=3,B.a.removeNote(r,e).then((function(){return n($(e))}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=e.noteData.value,n=Object(a.useState)(e.noteData.value),r=Object(o.a)(n,2),i=r[0],s=r[1];Object(a.useEffect)((function(){return s(e.noteData.value)}),[e.date]);return Object(D.jsx)(ae,{hour:e.hour,value:i,addNote:function(){!t&&i.trim()&&e.addNewNote(e.date[0],e.hour,i),t&&t!==i&&i.trim()&&e.editNote(e.noteData.id,e.date[0],e.hour,i),t&&!i.trim()&&e.removeNote(e.noteData.id)},title:e.title,changeField:function(e){return s(e.target.value)}})})),se=function(e){var t=e.date,n=e.datesData,a=e.hours,r=e.getTitle;return Object(D.jsx)("div",{className:F.a.container,children:Object(D.jsxs)("div",{className:F.a.notepad,children:[Object(D.jsx)(E.c,{to:"/",className:F.a.log_out}),1===t.length?Object(D.jsx)("div",{className:F.a.title,children:t}):0===n.data.length?Object(D.jsx)("div",{className:F.a.notepad__message,children:"There aren't notes in the specified range"}):"",n.current?n.data.map((function(e){return Object(D.jsx)(ie,{hour:e.time,date:[e.date],title:r(e.date)},e.id)})):a.map((function(e){return Object(D.jsx)(ie,{hour:e,date:t,title:""},e)}))]})})},ce=function(e,t){var n={current:!1,data:[]};if(t.length>1){n.current=!0;var a,r=t[0].split(".").reverse().join("-"),i=t[1].split(".").reverse().join("-"),s=Object(R.a)(e.notes);try{for(s.s();!(a=s.n()).done;){var c=a.value,o=c.date.split(".").reverse().join("-");b()(o).isBetween(r,i,void 0,"[]")&&n.data.push(c)}}catch(u){s.e(u)}finally{s.f()}n.data.sort((function(e,t){return e.time-t.time})),n.data.sort((function(e,t){return b()(e.date.split(".").reverse().join("-"))-b()(t.date.split(".").reverse().join("-"))}))}return n},oe=Object(l.b)((function(e,t){var n=t.date;return{datesData:ce(e,n),isAuth:e.auth.isAuth}}))((function(e){var t=e.date,n=e.datesData,a=e.isAuth,r=function(e){var t=e;return function(e){return t!==e?t=e:""}}("");return a?Object(D.jsx)(se,{date:t,datesData:n,hours:["00.00","01.00","02.00","03.00","04.00","06.00","07.00","08.00","09.00","10.00","11.00","12.00","13.00","14.00","15.00","16.00","17.00","18.00","19.00","20.00","21.00","22.00","23.00"],getTitle:r}):Object(D.jsx)(w.a,{to:"/login"})})),ue=n(26),le=n(155),de=n(54),_e="AUTH/NEW_SESSIONS",fe="AUTH/REMOVE_SESSIONS",je="AUTH/TOGGLE_IS_FETCHING",me={user:{id:null,firstName:"",lastName:"",email:"",role:""},isAuth:!1,isFetching:!1},be=function(e,t,n,a,r){return{type:_e,id:e,firstName:t,lastName:n,email:a,role:r}},he=function(e){return{type:je,isFetching:e}},pe=function(e,t){B.b.getUserProfile(e).then((function(n){var a,r=n.val(),i=r.email,s=r.firstName,c=r.lastName,o=r.role;t(be(e,s,c,i,o)),t((a=e,function(){var e=Object(Y.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.getNotes(a).then((function(e){var n=e.val();t(Z(n))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))},Oe=n(162),ve=n(125),xe=n(132),Ne=Object(ue.c)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:var n=[];for(var a in t.notes)n.push(Object(u.a)({id:a},t.notes[a]));return n;case Q:var r={id:t.id,userId:t.userId,date:t.date,time:t.hour,value:t.value};return[].concat(Object(H.a)(e),[r]);case q:return e.map((function(e){return e.id!==t.id||(e.value=t.value)})),e;case V:return e.filter((function(e){return e.id!==t.id?e:null}));case z:return[];default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(u.a)(Object(u.a)({},e),{},{isAuth:!0,user:Object(u.a)(Object(u.a)({},e.user),{},{id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,role:t.role})});case fe:return Object(u.a)(Object(u.a)({},e),{},{isAuth:!1,user:Object(u.a)(Object(u.a)({},e.user),{},{id:"",firstName:"",lastName:"",email:"",role:""})});case je:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});default:return e}},form:le.a,users:ve.c,userNotes:xe.c}),ge=Object(ue.d)(Ne,Object(ue.a)(Oe.a));window.store=ge;var Se=ge,ye=n(46),we=n.n(ye),De=function(e){var t=e.setShowSelectedDates,n=Object(a.useState)(b()()),r=Object(o.a)(n,2),i=r[0],s=r[1],c=Object(a.useState)(b()()),u=Object(o.a)(c,2),l=u[0],d=u[1],_=Object(a.useState)(!0),f=Object(o.a)(_,2),j=f[0],m=f[1];Object(a.useEffect)((function(){m(b()(i).isSameOrBefore(l))}),[i,l]);var g=Object(v.a)({palette:{primary:N.a}}),S=function(){j&&t(!1)};return Object(D.jsxs)("div",{className:we.a.dates__wrapper,onMouseLeave:function(){return t(!1)},children:[Object(D.jsx)("div",{className:we.a.dates__title,children:"Set interval dates"}),Object(D.jsx)("div",{className:we.a.dates__container,children:Object(D.jsx)(x.a,{theme:g,children:Object(D.jsxs)(p.a,{utils:h.a,children:[Object(D.jsx)(O.a,{autoOk:!0,value:i,onChange:s,format:"DD/MM/yyyy",className:we.a.dates__field,InputAdornmentProps:{position:"start"}}),Object(D.jsx)(O.a,{autoOk:!0,format:"DD/MM/yyyy",value:l,onChange:d,className:we.a.dates__field,InputAdornmentProps:{position:"start"}})]})})}),j?null:Object(D.jsx)("div",{className:we.a.dates__error,children:"Dates aren't correct!"}),Object(D.jsx)("div",{className:we.a.dates__button_box,children:j?Object(D.jsx)(E.b,{to:"/notepad/".concat(b()(i).format("DD.MM.yyyy"),"-").concat(b()(l).format("DD.MM.yyyy")),children:Object(D.jsx)("button",{className:we.a.dates__button,onClick:S,children:"Send"})}):Object(D.jsx)("button",{className:we.a.dates__button,onClick:S,children:"Send"})})]})},Ce=n(154),Ee=function(e){var t={};return e.firstName?e.firstName.length>15&&(t.firstName="Must be 15 characters or less !"):t.firstName="Required !",e.lastName?e.lastName.length>15&&(t.lastName="Must be 15 characters or less !"):t.lastName="Required !",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address !"):t.email="Required !",e.password||(t.password="Required !"),e.confirmPassword?e.confirmPassword!==e.password&&(t.confirmPassword="Password doesn't match !"):t.confirmPassword="Required !",t},Ae=n(47),ke=n.n(Ae),Ie=n(153),Ue=function(e){var t=e.input,n=e.placeholder,a=e.label,r=e.type,i=e.style,s=e.meta,c=s.touched,o=s.error,l=s.warning;return Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:a}),Object(D.jsxs)("div",{className:i.field_box,children:[Object(D.jsx)("input",Object(u.a)(Object(u.a)({},t),{},{placeholder:n,type:r,className:j()(i.field,o&&c?i.field_error:null)})),Object(D.jsx)("div",{className:i.error,children:c&&(o&&Object(D.jsx)("span",{children:o})||l&&Object(D.jsx)("span",{children:l}))})]})]})},Me=n.p+"static/media/preloader.fd866770.svg",Te=Object(Ce.a)({form:"login",validate:Ee})((function(e){var t=e.handleSubmit,n=e.error,a=e.isFetching;return Object(D.jsxs)("div",{className:ke.a.login_container,children:[Object(D.jsx)("div",{className:ke.a.title,children:"Log In"}),Object(D.jsxs)("form",{onSubmit:t,children:[Object(D.jsx)("div",{children:Object(D.jsx)(Ie.a,{name:"email",component:Ue,type:"text",placeholder:"Email",style:ke.a})}),Object(D.jsx)("div",{children:Object(D.jsx)(Ie.a,{name:"password",component:Ue,type:"password",placeholder:"Password",style:ke.a})}),n&&Object(D.jsx)("div",{className:ke.a.submitError,children:n.message}),Object(D.jsxs)("div",{className:ke.a.nav_box,children:[Object(D.jsx)(E.c,{to:"/signup",className:ke.a.link,children:"Sign Up"}),Object(D.jsx)("button",{className:ke.a.button,disabled:a,children:a?Object(D.jsx)("img",{className:ke.a.preloader,src:Me,alt:Me}):"Sign In"})]})]})]})})),Re=Object(l.b)((function(e){return{isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),{newSessions:function(e,t){return function(){var n=Object(Y.a)(W.a.mark((function n(a){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(he(!0)),n.next=3,B.b.newSession(e,t).then((function(e){if(e.user){var t=e.user.uid;pe(t,a),a(he(!1))}})).catch((function(e){a(Object(de.a)("login",{_error:e})),a(he(!1))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.newSessions,n=e.isFetching;return e.isAuth?Object(D.jsx)(w.a,{to:"/"}):Object(D.jsx)(Te,{onSubmit:function(e){t(e.email,e.password)},isFetching:n})})),Le=n(29),Fe=n.n(Le),Pe=Object(Ce.a)({form:"signup",validate:Ee})((function(e){var t=e.handleSubmit,n=e.error,a=e.isFetching;return Object(D.jsxs)("div",{className:Fe.a.sign_up_container,children:[Object(D.jsx)("div",{className:Fe.a.title,children:"Registration"}),Object(D.jsxs)("form",{onSubmit:t,children:[Object(D.jsxs)("div",{className:Fe.a.flex_box,children:[Object(D.jsx)("div",{className:Fe.a.flex_field,children:Object(D.jsx)(Ie.a,{name:"firstName",component:Ue,type:"text",style:Fe.a,placeholder:"First Name"})}),Object(D.jsx)("div",{className:Fe.a.flex_field,children:Object(D.jsx)(Ie.a,{name:"lastName",component:Ue,type:"text",style:Fe.a,placeholder:"Last Name"})})]}),Object(D.jsx)("div",{children:Object(D.jsx)(Ie.a,{name:"email",component:Ue,type:"text",style:Fe.a,placeholder:"Email"})}),Object(D.jsxs)("div",{className:Fe.a.flex_box,children:[Object(D.jsx)("div",{className:Fe.a.flex_field,children:Object(D.jsx)(Ie.a,{name:"password",component:Ue,type:"password",style:Fe.a,placeholder:"Password"})}),Object(D.jsx)("div",{className:Fe.a.flex_field,children:Object(D.jsx)(Ie.a,{name:"confirmPassword",component:Ue,type:"password",style:Fe.a,placeholder:"Confirm password"})})]}),n&&Object(D.jsx)("div",{className:Fe.a.submitError,children:n.message}),Object(D.jsxs)("div",{className:Fe.a.nav_box,children:[Object(D.jsx)(E.c,{to:"/login",className:Fe.a.link,children:"Log In"}),Object(D.jsx)("button",{className:Fe.a.button,disabled:a,children:a?Object(D.jsx)("img",{className:Fe.a.preloader,src:Me,alt:Me}):"Sign Up"})]})]})]})})),We=Object(l.b)((function(e){return{isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),{signUp:function(e,t,n,a){return function(r){r(he(!0)),B.b.createAccount(n,a).then((function(a){if(a.user){var i=a.user.uid,s="user";B.b.setUserProfile(i,n,e,t,s).then((function(){r(be(i,e,t,n,s)),r(he(!1))}))}})).catch((function(e){r(Object(de.a)("signup",{_error:e})),r(he(!1))}))}}})((function(e){var t=e.signUp,n=e.isFetching;return e.isAuth?Object(D.jsx)(w.a,{to:"/"}):Object(D.jsx)(Pe,{onSubmit:function(e){return t(e.firstName,e.lastName,e.email,e.password)},isFetching:n})})),Ye=n(30),He=function(e){var t,n,a=function(e){for(var t=b()().month(e).daysInMonth(),n=[];t;)n.push(b()().month(e).date(t)),t--;return n.reverse()}(e),r=[],i=Object(R.a)(a);try{for(i.s();!(t=i.n()).done;){var s=t.value;r.push({name:s.format("dddd"),number:s.format("D"),current:s.format("MMM Do YY")===b()().format("MMM Do YY"),isHoliday:(n=s.format("dddd"),"Saturday"===n||"Sunday"===n),date:s.format("DD.MM.YYYY")})}}catch(c){i.e(c)}finally{i.f()}return r},Be=n(48),Ge=n.n(Be),Qe=function(e,t){return e.notes.filter((function(e){return e.date===t})).length},qe=Object(l.b)((function(e,t){var n=t.day;return{notes:Qe(e,n.date)}}))((function(e){var t=e.day,n=e.notes;return"plug"===t.name?Object(D.jsx)("div",{className:Ge.a.clearItem}):Object(D.jsx)(E.b,{className:Ge.a.link,to:"notepad/"+t.date,children:Object(D.jsxs)("div",{className:j()([Ge.a.item,t.current?Ge.a.current:""]),children:[Object(D.jsx)("div",{className:j()([Ge.a.nameOfDay,t.isHoliday?Ge.a.isHoliday:""]),children:t.name}),Object(D.jsx)("div",{className:j()([Ge.a.number]),children:t.number}),Object(D.jsxs)("div",{className:j()([Ge.a.note,n>0?Ge.a.green:""]),children:["Notes: ",n]})]})})})),Ve=n(51),ze=n.n(Ve),Je=function(e){var t=e.toggleMonth,n=e.month,a=e.structurePage;return Object(D.jsxs)("div",{className:ze.a.container,children:[Object(D.jsxs)("div",{className:ze.a.navContainer,children:[Object(D.jsx)("div",{className:ze.a.arrowLeftBox,onClick:function(){t("decrement")},children:Object(D.jsx)("div",{className:ze.a.navLeft})}),Object(D.jsx)("div",{className:ze.a.title,children:b()().month(n).format("MMMM YYYY")}),Object(D.jsx)("div",{className:ze.a.arrowRightBox,onClick:function(){t("increment")},children:Object(D.jsx)("div",{className:ze.a.navRight})})]}),Object(D.jsx)("div",{className:ze.a.items,children:a.map((function(e){return Object(D.jsx)(qe,{day:e},e.date)}))})]})},Ze=function(e){var t=Object(a.useState)(b()().month()),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(D.jsx)(Je,{toggleMonth:function(e){"decrement"===e&&i(--r),"increment"===e&&i(++r)},month:r,structurePage:function(){var e=He(r),t=[],n=0;return["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","null","null","null","null"].map((function(a){a===e[0].name&&(e.map((function(e){return t.push(e)})),n++),n<35&&t.push({date:Math.random()+"",name:"plug",number:"plug",current:!1,isHoliday:!1}),n++})),t}()})},Xe=n(71),Ke=n.n(Xe),$e=Object(l.b)(null,{removeSessions:function(){return function(){var e=Object(Y.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.b.removeSession().then((function(e){t(ee()),t({type:fe})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(D.jsxs)("div",{className:Ke.a.container,children:[Object(D.jsx)("div",{className:Ke.a.text,children:"Do you really want to leave?"}),Object(D.jsxs)("div",{className:Ke.a.buttonGroup,children:[Object(D.jsx)("button",{className:Ke.a.button,onClick:function(){return e.setShowConfirmWindow(!1)},children:"No"}),Object(D.jsx)("button",{className:Ke.a.button,onClick:function(){e.removeSessions(),e.setShowConfirmWindow(!1)},children:"Yes"})]})]})})),et=r.a.lazy((function(){return n.e(3).then(n.bind(null,360))})),tt=Object(w.g)((function(e){Object(a.useEffect)((function(){Ye.a.auth().onAuthStateChanged((function(e){var t;e&&Se.dispatch((t=e.uid,function(){var e=Object(Y.a)(W.a.mark((function e(n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))}),[]);var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(o.a)(s,2),u=c[0],l=c[1];return Object(D.jsxs)("div",{className:"app",children:[Object(D.jsxs)("div",{className:u?"blur":"",children:[Object(D.jsx)(T,{setShowSelectedDates:i,showSelectedDates:r,setShowConfirmWindow:l}),Object(D.jsx)("div",{className:j()("dates__popup",r?"dates__popup_active":""),children:Object(D.jsx)(De,{setShowSelectedDates:i})}),Object(D.jsx)(w.b,{path:"/",exact:!0,render:function(){return Object(D.jsx)(Ze,{})}}),Object(D.jsx)(w.b,{path:"/notepad",render:function(){return Object(D.jsx)(oe,{date:(t=e.location.pathname,t.split("/")[2].split("-"))});var t}}),Object(D.jsx)(w.b,{path:"/login",render:function(){return Object(D.jsx)(Re,{})}}),Object(D.jsx)(w.b,{path:"/signup",render:function(){return Object(D.jsx)(We,{})}}),Object(D.jsx)(a.Suspense,{fallback:Object(D.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(D.jsx)(w.b,{path:"/admin",render:function(){return Object(D.jsx)(et,{})}})})]}),u&&Object(D.jsx)($e,{setShowConfirmWindow:l})]})})),nt=function(){return Object(D.jsx)(E.a,{basename:"/gp",children:Object(D.jsx)(l.a,{store:Se,children:Object(D.jsx)(tt,{})})})};Ye.a.initializeApp({apiKey:"AIzaSyBodS8dyFJe8zphDqN-AhzRC5vqqVQPYuc",authDomain:"gp-firebase-1f88e.firebaseapp.com",databaseURL:"https://gp-firebase-1f88e-default-rtdb.firebaseio.com",projectId:"gp-firebase-1f88e",storageBucket:"gp-firebase-1f88e.appspot.com",messagingSenderId:"380953107415",appId:"1:380953107415:web:fb05f1e685cc9c8e148992"}),s.a.render(Object(D.jsx)(nt,{}),document.getElementById("root")),c()},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(30),r={createAccount:function(e,t){return a.a.auth().createUserWithEmailAndPassword(e,t)},newSession:function(e,t){return a.a.auth().setPersistence(a.a.auth.Auth.Persistence.LOCAL).then((function(){return a.a.auth().signInWithEmailAndPassword(e,t)}))},removeSession:function(){return a.a.auth().signOut()},setUserProfile:function(e,t,n,r,i){return a.a.database().ref("users/".concat(e)).set({email:t,firstName:n,lastName:r,role:i})},getUserProfile:function(e){return a.a.database().ref("users/".concat(e)).once("value")},editUserProfile:function(e,t,n,r,i){var s={email:t,firstName:n,lastName:r,role:i},c={};return c["users/".concat(e)]=s,a.a.database().ref().update(c)},getUsers:function(){return a.a.database().ref("users").once("value")}},i={getNotes:function(e){return a.a.database().ref("notes/".concat(e)).once("value")},addNote:function(e,t){return a.a.database().ref("notes/".concat(e)).push(t)},editNote:function(e,t,n,r,i){var s={userId:e,id:t,date:n,time:r,value:i},c={};return c["notes/".concat(e,"/").concat(t)]=s,a.a.database().ref().update(c)},removeNote:function(e,t){return a.a.database().ref("notes/".concat(e,"/").concat(t)).remove()}}},42:function(e,t,n){e.exports={container:"Notepad_container__3yxWs",notepad:"Notepad_notepad__3Svz2",log_out:"Notepad_log_out__2n_Ft",notepad_row:"Notepad_notepad_row__PiAc0",time:"Notepad_time__JkWst",field:"Notepad_field__1OWI3",title:"Notepad_title__1e-17",title__notepad_row:"Notepad_title__notepad_row__2WVQV",notepad__message:"Notepad_notepad__message__2O93y"}},46:function(e,t,n){e.exports={dates__wrapper:"SelectDates_dates__wrapper__182yo",dates__container:"SelectDates_dates__container__UGStX",dates__title:"SelectDates_dates__title__2NOq9",dates__field:"SelectDates_dates__field__3yJTQ",dates__button_box:"SelectDates_dates__button_box__3C3RM",dates__button:"SelectDates_dates__button__1pDSo",dates__error:"SelectDates_dates__error__B_puN"}},47:function(e,t,n){e.exports={login_container:"LogIn_login_container__3LyN0",title:"LogIn_title__2iIpn",field:"LogIn_field__2ytqp",error:"LogIn_error__3QyUV",submitError:"LogIn_submitError__1e3IW",field_error:"LogIn_field_error__32sA8",button:"LogIn_button__2y9Uv",link:"LogIn_link__1u6dl",nav_box:"LogIn_nav_box__1OiTt",preloader:"LogIn_preloader__1oT_s"}},48:function(e,t,n){e.exports={link:"Day_link__2QRRL",green:"Day_green__1NRSw",item:"Day_item__1o3Rg",clearItem:"Day_clearItem__1wumY",current:"Day_current__waQRQ",nameOfDay:"Day_nameOfDay__1xL7d",number:"Day_number__1PhDD",note:"Day_note__1F1bP",isHoliday:"Day_isHoliday__3BiQN"}},51:function(e,t,n){e.exports={container:"Calendar_container__3830a",navContainer:"Calendar_navContainer__1803m",arrowLeftBox:"Calendar_arrowLeftBox__2p0pv",arrowRightBox:"Calendar_arrowRightBox__1F1Ey",navLeft:"Calendar_navLeft__3V31j",navRight:"Calendar_navRight__1OLMy",title:"Calendar_title__58yxF",items:"Calendar_items__1YjdR"}},71:function(e,t,n){e.exports={container:"ConfirmWindow_container__2-IQN",text:"ConfirmWindow_text__Ldl35",buttonGroup:"ConfirmWindow_buttonGroup__39EW0",button:"ConfirmWindow_button__2dU2T"}}},[[330,1,2]]]);
//# sourceMappingURL=main.61d81ead.chunk.js.map